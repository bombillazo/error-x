<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@bombillazo/error-x](./error-x.md) &gt; [DBErrorX](./error-x.dberrorx.md)

## DBErrorX class

Database Error class with presets for common database error scenarios.

Provides a type-safe way to create database errors with: - Common error presets (connection, query, timeout, constraints) - Automatic code prefixing with `DB_` - Full `instanceof` support - Typed metadata for database context

**Signature:**

```typescript
declare class DBErrorX extends ErrorX<DBErrorXMetadata> 
```
**Extends:** [ErrorX](./error-x.errorx.md)<!-- -->&lt;[DBErrorXMetadata](./error-x.dberrorxmetadata.md)<!-- -->&gt;

## Example


```typescript
// Basic usage with preset
throw DBErrorX.create('CONNECTION_FAILED')
throw DBErrorX.create('QUERY_FAILED')
throw DBErrorX.create('TIMEOUT')

// With metadata
throw DBErrorX.create('QUERY_FAILED', {
  message: 'Failed to fetch user',
  metadata: {
    query: 'SELECT * FROM users WHERE id = ?',
    table: 'users',
    operation: 'SELECT'
  }
})

// With error chaining
try {
  await db.query(sql)
} catch (err) {
  throw DBErrorX.create('QUERY_FAILED', { cause: err })
}

// Just overrides (uses default UNKNOWN)
throw DBErrorX.create({ message: 'Database error' })

// instanceof checks
if (error instanceof DBErrorX) {
  console.log(error.metadata?.table)
}
```

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[defaultPreset](./error-x.dberrorx.defaultpreset.md)


</td><td>

`static`


</td><td>

string


</td><td>

Default to UNKNOWN when no preset specified


</td></tr>
<tr><td>

[defaults](./error-x.dberrorx.defaults.md)


</td><td>

`static`


</td><td>

{ httpStatus: number; }


</td><td>

Default httpStatus for database errors (500 = server error)


</td></tr>
<tr><td>

[presets](./error-x.dberrorx.presets.md)


</td><td>

`static`


</td><td>

{ readonly CONNECTION\_FAILED: { readonly code: "CONNECTION\_FAILED"; readonly name: "DBConnectionError"; readonly message: "Failed to connect to database."; readonly uiMessage: "Unable to connect to the database. Please try again later."; }; readonly CONNECTION\_TIMEOUT: { readonly code: "CONNECTION\_TIMEOUT"; readonly name: "DBConnectionTimeoutError"; readonly message: "Database connection timed out."; readonly uiMessage: "The database connection timed out. Please try again."; }; readonly CONNECTION\_REFUSED: { readonly code: "CONNECTION\_REFUSED"; readonly name: "DBConnectionRefusedError"; readonly message: "Database connection refused."; readonly uiMessage: "Unable to connect to the database. Please try again later."; }; readonly CONNECTION\_LOST: { readonly code: "CONNECTION\_LOST"; readonly name: "DBConnectionLostError"; readonly message: "Database connection lost."; readonly uiMessage: "The database connection was lost. Please try again."; }; readonly QUERY\_FAILED: { readonly code: "QUERY\_FAILED"; readonly name: "DBQueryError"; readonly message: "Database query failed."; readonly uiMessage: "The database operation failed. Please try again."; }; readonly QUERY\_TIMEOUT: { readonly code: "QUERY\_TIMEOUT"; readonly name: "DBQueryTimeoutError"; readonly message: "Database query timed out."; readonly uiMessage: "The database operation took too long. Please try again."; }; readonly SYNTAX\_ERROR: { readonly code: "SYNTAX\_ERROR"; readonly name: "DBSyntaxError"; readonly message: "Invalid query syntax."; readonly uiMessage: "An internal error occurred. Please contact support."; }; readonly UNIQUE\_VIOLATION: { readonly code: "UNIQUE\_VIOLATION"; readonly name: "DBUniqueViolationError"; readonly message: "Unique constraint violation."; readonly uiMessage: "This record already exists."; readonly httpStatus: 409; }; readonly FOREIGN\_KEY\_VIOLATION: { readonly code: "FOREIGN\_KEY\_VIOLATION"; readonly name: "DBForeignKeyError"; readonly message: "Foreign key constraint violation."; readonly uiMessage: "This operation references a record that does not exist."; readonly httpStatus: 400; }; readonly NOT\_NULL\_VIOLATION: { readonly code: "NOT\_NULL\_VIOLATION"; readonly name: "DBNotNullError"; readonly message: "Not null constraint violation."; readonly uiMessage: "A required field is missing."; readonly httpStatus: 400; }; readonly CHECK\_VIOLATION: { readonly code: "CHECK\_VIOLATION"; readonly name: "DBCheckViolationError"; readonly message: "Check constraint violation."; readonly uiMessage: "The provided data is invalid."; readonly httpStatus: 400; }; readonly TRANSACTION\_FAILED: { readonly code: "TRANSACTION\_FAILED"; readonly name: "DBTransactionError"; readonly message: "Database transaction failed."; readonly uiMessage: "The operation failed. Please try again."; }; readonly DEADLOCK: { readonly code: "DEADLOCK"; readonly name: "DBDeadlockError"; readonly message: "Database deadlock detected."; readonly uiMessage: "The operation encountered a conflict. Please try again."; readonly httpStatus: 409; }; readonly NOT\_FOUND: { readonly code: "NOT\_FOUND"; readonly name: "DBNotFoundError"; readonly message: "Record not found."; readonly uiMessage: "The requested record was not found."; readonly httpStatus: 404; }; readonly UNKNOWN: { readonly code: "UNKNOWN"; readonly name: "DBErrorX"; readonly message: "An unknown database error occurred."; readonly uiMessage: "A database error occurred. Please try again later."; }; }


</td><td>

Database error presets for common scenarios.


</td></tr>
<tr><td>

[transform](./error-x.dberrorx.transform.md)


</td><td>

`static`


</td><td>

[ErrorXTransform](./error-x.errorxtransform.md)<!-- -->&lt;[DBErrorXMetadata](./error-x.dberrorxmetadata.md)<!-- -->&gt;


</td><td>

Transform that prefixes all codes with `DB_`<!-- -->.


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[create(presetKey, overrides)](./error-x.dberrorx.create.md)


</td><td>

`static`


</td><td>

Creates a DBErrorX from a preset key.


</td></tr>
<tr><td>

[create(overrides)](./error-x.dberrorx.create_1.md)


</td><td>

`static`


</td><td>


</td></tr>
</tbody></table>

