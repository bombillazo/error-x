<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@bombillazo/error-x](./error-x.md) &gt; [ErrorX](./error-x.errorx.md) &gt; [withMetadata](./error-x.errorx.withmetadata.md)

## ErrorX.withMetadata() method

Creates a new ErrorX instance with additional metadata merged with existing metadata. The original error properties are preserved while extending the metadata.

**Signature:**

```typescript
withMetadata<TAdditionalMetadata extends Record<string, unknown> = ErrorXMetadata>(additionalMetadata: TAdditionalMetadata): ErrorX<TMetadata & TAdditionalMetadata>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

additionalMetadata


</td><td>

TAdditionalMetadata


</td><td>

Additional metadata to merge with existing metadata


</td></tr>
</tbody></table>

**Returns:**

[ErrorX](./error-x.errorx.md)<!-- -->&lt;TMetadata &amp; TAdditionalMetadata&gt;

New ErrorX instance with merged metadata

## Example


```typescript
const error = new ErrorX({
  message: 'API request failed',
  metadata: { endpoint: '/users' }
})

const enrichedError = error.withMetadata({
  retryCount: 3,
  userId: 123
})
// Result: metadata = { endpoint: '/users', retryCount: 3, userId: 123 }
```

